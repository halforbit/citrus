
<a class="button" href="#vehicles/{{vehicleId}}">Back to {{make}} {{model}}</a>

<h1>Edit Vehicle</h1>

<form action="vehicles/{{vehicleId}}/edit" method="post">

    <input 
        type="text" 
        name="make" 
        value="{{make}}" 
        placeholder="Make" />

    <input 
        type="text" 
        name="model" 
        value="{{model}}"
        placeholder="Model" />

    <input 
        type="submit" 
        value="Submit" 
        onclick="submitForm(this); return false;" />

</form>

<script type="text/javascript">

    function submitForm(submitButton)
    {
        var form = $(submitButton).closest('form');

        var data = form.serializeObject();

        //console.dir(data);

        Client.post(
            form.attr('action'),
            data,
            function (error, response)
            {
                if (error) throw error;

                console.dir(response);

                window.location.hash = 'vehicles/{{vehicleId}}';
            });

        return false;
    }

</script>